<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π | –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è</title>
    
    <!-- –§–∞–≤–∏–∫–æ–Ω–∫–∏ -->
    <link rel="icon" type="image/png" href="../assets/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../assets/favicon/favicon.svg" />
    <link rel="shortcut icon" href="../assets/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="–ù–ï–ì–û–†–ò" />
    <link rel="manifest" href="../assets/favicon/site.webmanifest" />

    <!-- –î–æ–±–∞–≤—å—Ç–µ –≤ head -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <style>
        /* Reset –∏ –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #7f8c8d;
            --success-color: #27ae60;
            --text-color: #333333;
            --dark-bg: #1a1a1a;
            --light-bg: #f8f9fa;
            --border-color: #e0e0e0;
            --white: #ffffff;
            --black: #000000;
            --shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --gray-bg: #f8f8f8;
            --hero-bg: #2c3e50;
            --warning-color: #e74c3c;
        }

        /* –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–æ–≤ */
        @font-face {
            font-family: 'NG';
            src: url('../assets/fonts/NG.woff2') format('woff2'),
                 url('../assets/fonts/NG.woff') format('woff'),
                 url('../assets/fonts/NG.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Zag';
            src: url('../assets/fonts/Zag.woff2') format('woff2'),
                 url('../assets/fonts/Zag.woff') format('woff'),
                 url('../assets/fonts/Zag.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Tekst';
            src: url('../assets/fonts/Tekst.woff2') format('woff2'),
                 url('../assets/fonts/Tekst.woff') format('woff'),
                 url('../assets/fonts/Tekst.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        body {
            font-family: 'Tekst', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--light-bg);
            font-size: 18px;
            font-weight: 400;
            max-width: 100vw;
            overflow-x: hidden;
        }

        .logo-ng {
            font-family: 'NG', sans-serif;
            font-size: 2.2rem;
            font-weight: normal;
        }

        /* –•–µ–¥–µ—Ä */
        .tilda-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--white);
            border-bottom: 1px solid var(--border-color);
            z-index: 1000;
            height: 60px;
            display: flex;
            align-items: center;
            box-shadow: var(--shadow);
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: var(--primary-color);
            margin-right: auto;
        }

        .header-nav {
            display: flex;
            gap: 2.5rem;
            align-items: center;
            margin-right: 2rem;
        }

        .nav-link {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            padding: 8px 0;
            position: relative;
            transition: var(--transition);
            white-space: nowrap;
            font-family: 'Tekst', sans-serif;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--primary-color);
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--primary-color);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.3rem;
            cursor: pointer;
            padding: 5px;
            z-index: 1002;
            color: var(--primary-color);
        }

        /* –ì–µ—Ä–æ–π —Å–µ–∫—Ü–∏—è */
        .diary-header-section {
            background: var(--hero-bg);
            min-height: 40vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 100px 40px;
            margin-top: 60px;
            position: relative;
            overflow: hidden;
        }

        .diary-header-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 4rem;
            width: 100%;
            position: relative;
            z-index: 2;
        }

        .diary-header-image {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateX(-50px);
            animation: slideInLeft 1s ease 0.5s forwards;
        }

        .diary-header-img {
            max-width: 100%;
            max-height: 300px;
            width: auto;
            height: auto;
            border-radius: 0;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .diary-header-img:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .diary-header-content {
            flex: 1;
            color: var(--white);
            text-align: left;
            opacity: 0;
            transform: translateX(50px);
            animation: slideInRight 1s ease 0.5s forwards;
        }

        .diary-header-title {
            font-size: 2.8rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            font-family: 'Zag', sans-serif;
            line-height: 1.2;
            color: var(--white);
        }

        .diary-header-text {
            font-size: 1.2rem;
            line-height: 1.7;
            font-family: 'Tekst', sans-serif;
            color: var(--white);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-element {
            opacity: 0;
            animation: fadeInUp 0.8s ease forwards;
            padding: 0;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .diary-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0;
        }

        .diary-article {
            background: transparent;
            padding: 1rem 0;
            line-height: 1.8;
        }

        .diary-article h1 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 2rem;
            text-align: center;
            font-family: 'Zag', sans-serif;
            word-wrap: break-word;
            overflow-wrap: break-word;
            opacity: 0;
            animation: fadeInUp 0.8s ease 0.3s forwards;
            font-weight: 500;
        }

        .diary-article h2 {
            font-size: 1.6rem;
            color: var(--primary-color);
            margin: 3rem 0 1.5rem;
            font-family: 'Zag', sans-serif;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
            font-weight: 500;
        }

        .diary-article h3 {
            font-size: 1.3rem;
            color: var(--secondary-color);
            margin: 2rem 0 1rem;
            font-family: 'Zag', sans-serif;
            font-weight: 500;
        }

        .diary-article p {
            margin-bottom: 1.5rem;
            color: var(--text-color);
            font-family: 'Tekst', sans-serif;
            word-wrap: break-word;
            overflow-wrap: break-word;
            font-size: 1.1rem;
            line-height: 1.7;
            text-align: justify;
            opacity: 0;
            animation: fadeInUp 0.8s ease 0.5s forwards;
        }

        .diary-article ul, .diary-article ol {
            margin: 1.5rem 0;
            padding-left: 2rem;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .diary-article li {
            margin-bottom: 0.8rem;
            color: var(--text-color);
            font-size: 1.1rem;
        }

        .diary-article strong {
            color: var(--text-color);
            font-weight: 700;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ */
        .methodology-section {
            background: var(--gray-bg);
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 0;
            border-left: 4px solid var(--primary-color);
        }

        .methodology-tip {
            background: rgba(46, 204, 113, 0.1);
            border-left: 4px solid var(--success-color);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º—ã—Å–ª–µ–π */
        .criteria-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .criteria-card {
            background: var(--white);
            padding: 1.5rem;
            border-radius: 0;
            border-left: 4px solid var(--primary-color);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .criteria-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .criteria-card h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-family: 'Zag', sans-serif;
            font-size: 1.1rem;
        }

        .criteria-card p {
            font-size: 1rem;
            margin-bottom: 0;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞ */
        .trainer-section {
            background: var(--white);
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 0;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .trainer-title {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 2rem;
            font-family: 'Zag', sans-serif;
            font-size: 1.8rem;
            font-weight: 500;
        }

        .trainer-step {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: var(--gray-bg);
            border-radius: 0;
            border-left: 4px solid var(--primary-color);
            opacity: 0;
            animation: fadeInUp 0.8s ease forwards;
        }

        .trainer-step h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-family: 'Zag', sans-serif;
            display: flex;
            align-items: center;
            font-weight: 500;
        }

        .step-number {
            background: var(--primary-color);
            color: var(--white);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            font-family: 'Tekst', sans-serif;
        }

        .trainer-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 0;
            font-size: 1rem;
            margin-top: 0.5rem;
            box-sizing: border-box;
            transition: var(--transition);
            font-family: 'Tekst', sans-serif;
            color: var(--text-color);
        }

        .trainer-input:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(44, 62, 80, 0.2);
        }

        .trainer-textarea {
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
        }

        .trainer-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
            gap: 1rem;
        }

        .trainer-btn {
            background: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 12px 24px;
            border-radius: 0;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            font-size: 1rem;
            box-shadow: var(--shadow);
            font-family: 'Tekst', sans-serif;
        }

        .trainer-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .trainer-btn:disabled {
            background: var(--accent-color);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .trainer-btn.prev {
            background: var(--accent-color);
        }

        .trainer-btn.prev:hover {
            background: #6c7a7b;
        }

        .trainer-btn.next {
            background: var(--success-color);
        }

        .trainer-btn.next:hover {
            background: #219653;
        }

        .trainer-btn.complete {
            background: var(--success-color);
            width: 100%;
        }

        .trainer-btn.complete:hover {
            background: #219653;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —ç–º–æ—Ü–∏–π */
        .emotion-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            gap: 10px;
            flex-wrap: wrap;
        }

        .emotion-name {
            flex: 1;
            min-width: 150px;
            color: var(--text-color);
        }

        .emotion-intensity {
            width: 120px;
        }

        .add-emotion-btn {
            background: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 8px 15px;
            border-radius: 0;
            cursor: pointer;
            margin-top: 10px;
            font-family: 'Tekst', sans-serif;
            transition: var(--transition);
        }

        .add-emotion-btn:hover {
            background: var(--secondary-color);
        }

        .remove-emotion-btn {
            background: var(--warning-color);
            color: var(--white);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Tekst', sans-serif;
            transition: var(--transition);
        }

        .remove-emotion-btn:hover {
            background: #c0392b;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è */
        .autocomplete-container {
            position: relative;
            flex: 1;
        }

        .emotion-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 0;
            font-size: 1rem;
            box-sizing: border-box;
            transition: var(--transition);
            font-family: 'Tekst', sans-serif;
            color: var(--text-color);
            background-color: var(--white);
        }

        .emotion-input:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(44, 62, 80, 0.2);
        }

        .autocomplete-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--white);
            border: 1px solid var(--border-color);
            border-top: none;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            box-shadow: var(--shadow);
        }

        .autocomplete-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid var(--border-color);
            font-family: 'Tekst', sans-serif;
            color: var(--text-color);
        }

        .autocomplete-item:hover {
            background: var(--gray-bg);
        }

        .autocomplete-item.active {
            background: var(--primary-color);
            color: var(--white);
        }

        .autocomplete-item:last-child {
            border-bottom: none;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ */
        .evidence-for {
            border-left: 4px solid var(--warning-color);
            background: rgba(231, 76, 60, 0.05);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0;
        }

        .evidence-against {
            border-left: 4px solid var(--success-color);
            background: rgba(46, 204, 113, 0.05);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ */
        .result-section {
            background: var(--primary-color);
            color: #ffffff !important;
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 0;
            text-align: center;
            display: none;
            opacity: 0;
            animation: fadeInUp 0.8s ease forwards;
            border: 2px solid #ffffff;
        }

        .result-title {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            font-family: 'Zag', sans-serif;
            font-weight: 500;
            color: #ffffff !important;
        }

        .result-content {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 0;
            margin: 1.5rem 0;
            text-align: left;
            color: #ffffff !important;
            border: 1px solid #ffffff;
        }

        .result-item {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            color: #ffffff !important;
        }

        .result-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
            color: #ffffff !important;    
        }

        .result-label {
            font-weight: bold;
            display: block;
            margin-bottom: 0.5rem;
            font-family: 'Zag', sans-serif;
            color: #ffffff !important;
            font-size: 1.1rem;
        }

        .result-value {
            font-size: 1.1rem;
            color: #ffffff !important;
            font-family: 'Tekst', sans-serif;
            line-height: 1.6;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ */
        .progress-bars-container {
            margin: 1.5rem 0;
        }

        .progress-item {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .progress-emotion-name {
            font-weight: 600;
            font-size: 1.1rem;
            color: #ffffff;
        }

        .change-indicator {
            font-weight: bold;
            font-size: 0.9rem;
            padding: 4px 8px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
        }

        .positive { color: #27ae60; }
        .negative { color: #e74c3c; }
        .neutral { color: #7f8c8d; }

        .progress-bar-container {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            height: 24px;
            position: relative;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-initial {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            background: rgba(231, 76, 60, 0.6);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-final {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            background: rgba(46, 204, 113, 0.8);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .progress-legend {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }

        .legend-initial {
            background: rgba(231, 76, 60, 0.8);
        }

        .legend-final {
            background: rgba(46, 204, 113, 0.8);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–Ω–µ–≤–Ω–∏–∫–∞ */
        .diary-structure {
            background: var(--white);
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 0;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .structure-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-family: 'Tekst', sans-serif;
        }

        .structure-table th {
            background: var(--primary-color);
            color: var(--white);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            border: 1px solid var(--border-color);
            font-family: 'Zag', sans-serif;
        }

        .structure-table td {
            padding: 1rem;
            border: 1px solid var(--border-color);
            vertical-align: top;
        }

        .structure-table tr:nth-child(even) {
            background: var(--gray-bg);
        }

        .column-explanation {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--accent-color);
            font-style: italic;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ —ç–º–æ—Ü–∏–∏ –∏ —á—É–≤—Å—Ç–≤–∞ */
        .emotions-feelings-section {
            background: var(--white);
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 0;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .emotions-feelings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 1.5rem 0;
        }

        .emotions-column, .feelings-column {
            padding: 1.5rem;
            border-radius: 0;
            border-left: 4px solid var(--primary-color);
            background: var(--gray-bg);
        }

        .emotions-feelings-note {
            text-align: center;
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(46, 204, 113, 0.1);
            border-radius: 0;
            border-left: 4px solid var(--success-color);
            font-style: italic;
        }

        /* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Å—Ç–∏–ª–µ sleep */
        .cbt-component {
            background: var(--white);
            padding: 2rem;
            border-radius: 0px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--primary-color);
            margin: 1.5rem 0;
            transition: var(--transition);
        }

        .cbt-component:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .cbt-component h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-family: 'Zag', sans-serif;
            font-size: 1.2rem;
            font-weight: 500;
        }

        .cbt-component p {
            color: var(--text-color);
            line-height: 1.6;
            font-size: 1rem;
            margin-bottom: 0;
        }

        .info-block {
            background: var(--gray-bg);
            padding: 2rem;
            margin: 2rem 0;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .example-block {
            background: var(--light-bg);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border-color);
            border-radius: 0;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è */
        .download-section {
            background: var(--white);
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 0;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .download-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .download-btn {
            background: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 12px 24px;
            border-radius: 0;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            font-size: 1rem;
            box-shadow: var(--shadow);
            font-family: 'Tekst', sans-serif;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .download-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .download-btn.template {
            background: var(--accent-color);
        }

        .download-btn.template:hover {
            background: #6c7a7b;
        }

        .download-btn.excel {
            background: var(--success-color);
        }

        .download-btn.excel:hover {
            background: #219653;
        }

        .download-btn.pdf {
            background: #e74c3c;
        }

        .download-btn.pdf:hover {
            background: #c0392b;
        }

        /* –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é */
        .mobile-menu {
            display: none;
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--white);
            z-index: 1001;
            padding: 2rem;
            overflow-y: auto;
            flex-direction: column;
            gap: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .mobile-menu.active {
            display: flex;
        }

        .mobile-nav-link {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            font-size: 1.2rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            font-family: 'Tekst', sans-serif;
            transition: var(--transition);
        }

        .mobile-nav-link:hover {
            color: var(--primary-color);
            padding-left: 1rem;
        }

        /* –§—É—Ç–µ—Ä */
        .tilda-footer {
            background: var(--dark-bg);
            color: var(--white);
            padding: 60px 0 30px;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-section h3 {
            color: var(--white);
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            font-family: 'Zag', sans-serif;
            font-weight: 500;
        }

        .footer-section p {
            color: #bdc3c7;
            line-height: 1.6;
            font-size: 1rem;
        }

        .footer-nav {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .footer-nav a {
            color: #bdc3c7;
            text-decoration: none;
            font-family: 'Tekst', sans-serif;
            transition: var(--transition);
            font-size: 1rem;
        }

        .footer-nav a:hover {
            color: var(--white);
            padding-left: 0.5rem;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #bdc3c7;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 40px 0;
            font-size: 1rem;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .diary-header-title {
                font-size: 2.3rem;
            }
            
            .diary-header-container {
                gap: 3rem;
            }
        }

        @media (max-width: 968px) {
            .header-nav {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .diary-header-section {
                min-height: 30vh;
                padding: 80px 30px;
            }
            
            .diary-header-container {
                flex-direction: column;
                gap: 2rem;
                text-align: center;
            }
            
            .diary-header-content {
                text-align: center;
            }
            
            .diary-header-title {
                font-size: 2rem;
            }
            
            .diary-header-text {
                font-size: 1rem;
            }
            
            .diary-article {
                padding: 3rem 0;
            }
            
            .diary-article h1 {
                font-size: 1.8rem;
            }
            
            .diary-article p {
                font-size: 1rem;
            }
            
            .trainer-buttons {
                flex-direction: column;
            }
            
            .trainer-btn {
                width: 100%;
            }
            
            .criteria-grid {
                grid-template-columns: 1fr;
            }
            
            .structure-table {
                display: block;
                overflow-x: auto;
            }
            
            .emotions-feelings-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .download-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .download-btn {
                width: 100%;
                max-width: 300px;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                padding: 0 20px;
            }
            
            .diary-header-section {
                padding: 60px 20px;
                min-height: 25vh;
            }
            
            .diary-header-title {
                font-size: 1.8rem;
            }
            
            .diary-header-text {
                font-size: 0.95rem;
            }
            
            .diary-header-img {
                max-height: 200px;
            }
            
            .diary-content {
                padding: 0 20px;
            }
            
            .diary-article {
                padding: 2rem 0;
            }
            
            .diary-article h1 {
                font-size: 1.6rem;
            }
            
            .diary-article p {
                font-size: 0.95rem;
            }
            
            .emotion-item {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .emotion-intensity {
                width: 100%;
            }
            
            .progress-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .change-indicator {
                align-self: flex-end;
            }
            
            .progress-legend {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }
            
            .footer-content {
                padding: 0 20px;
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .footer-bottom {
                padding: 2rem 20px 0;
            }
        }

        @media (max-width: 480px) {
            .diary-header-section {
                padding: 40px 15px;
                min-height: 20vh;
            }
            
            .diary-header-title {
                font-size: 1.6rem;
            }
            
            .diary-header-text {
                font-size: 0.9rem;
            }
            
            .diary-article {
                padding: 1rem 0;
            }
            
            .diary-article p {
                font-size: 0.9rem;
            }
            
            .trainer-section {
                padding: 1rem;
            }
            
            .methodology-section {
                padding: 1rem;
            }
            
            .diary-structure {
                padding: 1rem;
            }
            
            .emotions-feelings-section {
                padding: 1rem;
            }
            
            .download-section {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- –•–µ–¥–µ—Ä -->
    <header class="tilda-header">
        <div class="header-container">
            <a href="../index.html" class="logo">
                <span class="logo-ng">–ù–ï –ì–û–†–ò</span>
            </a>
            
            <nav class="header-nav">
                <a href="quick-help.html" class="nav-link active">–ë—ã—Å—Ç—Ä–∞—è –ø–æ–º–æ—â—å</a>
                <a href="daily.html" class="nav-link">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</a>
                <a href="materials.html" class="nav-link">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a>
                <a href="tests.html" class="nav-link">–¢–µ—Å—Ç—ã</a>
                <a href="contacts.html" class="nav-link"> –ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
            </nav>
            
            
            <button class="mobile-menu-btn">‚ò∞</button>
        </div>
    </header>

    <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
    <div class="mobile-menu">
        <a href="quick-help.html" class="mobile-nav-link active">–ë—ã—Å—Ç—Ä–∞—è –ø–æ–º–æ—â—å</a>
        <a href="daily.html" class="mobile-nav-link">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</a>
        <a href="materials.html" class="mobile-nav-link">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a>
        <a href="tests.html" class="mobile-nav-link">–¢–µ—Å—Ç—ã</a>
        <a href="contacts.html" class="mobile-nav-link"> –ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </div>

    <!-- –ì–µ—Ä–æ–π —Å–µ–∫—Ü–∏—è -->
    <section class="diary-header-section">
        <div class="diary-header-container">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –∫–∞—Ä—Ç–∏–Ω–∫–∞ -->
            <div class="diary-header-image">
                <img src="../assets/images/dnev-bg.png" 
                     alt="–î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π" 
                     class="diary-header-img">
            </div>
            
            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - —Ç–µ–∫—Å—Ç -->
            <div class="diary-header-content">
                <h1 class="diary-header-title">–î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π</h1>
                <p class="diary-header-text">–ú–µ—Ç–æ–¥ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–π —Ç–µ—Ä–∞–ø–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º—ã—Å–ª—è–º–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è</p>
            </div>
        </div>
    </section>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <section class="section-wide">
        <div class="diary-content">
            <article class="diary-article">
                
                <p class="fade-in-element">
                    –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤–∞—à–∏ –º—ã—Å–ª–∏ ‚Äî —ç—Ç–æ –æ–±–ª–∞–∫–∞ –Ω–∞ –Ω–µ–±–µ: –æ–Ω–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏ —É—Ö–æ–¥—è—Ç, –Ω–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ–≥–æ–¥—É. 
                    –î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞—É—á–∏—Ç—å—Å—è –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã, –Ω–µ –ø–æ–¥–¥–∞–≤–∞—è—Å—å –∏—Ö –≤–ª–∏—è–Ω–∏—é.
                </p>

                <p class="fade-in-element">
                    –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –ª—é–¥–µ–π —Å–∞–º—ã—Ö —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π ‚Äî –æ—Ç IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ 
                    –∏ —É—á–∏—Ç–µ–ª–µ–π –¥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏ —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—ã—Å–ª–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –ø–æ–¥ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ–º —Å—Ç—Ä–µ—Å—Å–∞, 
                    —á–∞—Å—Ç–æ –∏—Å–∫–∞–∂–∞—é—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –∏ —É—Å–∏–ª–∏–≤–∞—é—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ.
                </p>

                <!-- –ë–ª–æ–∫ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ -->
                <div class="methodology-section fade-in-element">
                    <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π?</h2>
                    
                    <p><strong>–î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π</strong> ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–π —Ç–µ—Ä–∞–ø–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–ª—è—Ç—å, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –º—ã—Å–ª–∏, –≤—ã–∑—ã–≤–∞—é—â–∏–µ —Å—Ç—Ä–µ—Å—Å –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ.</p>
                    
                    <h3>–î–ª—è –∫–æ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —ç—Ç–æ—Ç –º–µ—Ç–æ–¥?</h3>
                    <p>–î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–µ–Ω –≤—Å–µ–º, –∫—Ç–æ:</p>
                    <ul>
                        <li>–ò—Å–ø—ã—Ç—ã–≤–∞–µ—Ç —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç—Ä–µ—Å—Å –Ω–∞ —Ä–∞–±–æ—Ç–µ</li>
                        <li>–ß—É–≤—Å—Ç–≤—É–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å—Ç–æ—â–µ–Ω–∏–µ</li>
                        <li>–ó–∞–º–µ—á–∞–µ—Ç —É —Å–µ–±—è –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –º—ã—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</li>
                        <li>–•–æ—á–µ—Ç –Ω–∞—É—á–∏—Ç—å—Å—è –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å —Å–≤–æ–∏ —ç–º–æ—Ü–∏–∏ –∏ —Ä–µ–∞–∫—Ü–∏–∏</li>
                        <li>–°—Ç—Ä–µ–º–∏—Ç—Å—è –∫ –ø–æ–≤—ã—à–µ–Ω–∏—é —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏</li>
                    </ul>
                    
                    <h3>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥?</h3>
                    
                    <ol>
                        <li><strong>–§–∏–∫—Å–∞—Ü–∏—è —Å–∏—Ç—É–∞—Ü–∏–∏:</strong> –í—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–∑–≤–∞–ª–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—É—é —ç–º–æ—Ü–∏—é</li>
                        <li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π:</strong> –í—ã—è–≤–ª—è–µ—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏ –∏ –Ω–∞—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ</li>
                        <li><strong>–í—ã—è–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º—ã—Å–ª–µ–π:</strong> –ù–∞—Ö–æ–¥–∏—Ç–µ –º—ã—Å–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—à–ª–∏ –≤ –≥–æ–ª–æ–≤—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
                        <li><strong>–ê–Ω–∞–ª–∏–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤:</strong> –ò—â–µ—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∑–∞ –∏ –ø—Ä–æ—Ç–∏–≤ –≤–∞—à–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º—ã—Å–ª–µ–π</li>
                        <li><strong>–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–∑–≥–ª—è–¥–∞:</strong> –ù–∞—Ö–æ–¥–∏—Ç–µ –±–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—é</li>
                    </ol>
                    
                    <div class="methodology-tip">
                        <p>üí° <strong>–í–∞–∂–Ω–æ:</strong> –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤–µ–¥–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞ –º—ã—Å–ª–µ–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –º—ã—à–ª–µ–Ω–∏—è –∏ —Å–Ω–∏–∑–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ —É–∂–µ —á–µ—Ä–µ–∑ 2-3 –Ω–µ–¥–µ–ª–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏.</p>
                    </div>
                </div>

                <!-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞ -->
                <h2 class="fade-in-element">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞ –º—ã—Å–ª–µ–π</h2>
                
                <p class="fade-in-element">
                    –î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º—ã—Å–ª—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ó–∞–ø–æ–ª–Ω—è–π—Ç–µ –µ–µ –∫–∞–∂–¥—ã–π —Ä–∞–∑, 
                    –∫–æ–≥–¥–∞ –∑–∞–º–µ—á–∞–µ—Ç–µ —É —Å–µ–±—è —Å–∏–ª—å–Ω—ã–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —ç–º–æ—Ü–∏–∏.
                </p>

                <div class="diary-structure fade-in-element">
                    <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞ –º—ã—Å–ª–µ–π</h3>
                    
                    <table class="structure-table">
                        <thead>
                            <tr>
                                <th>–ö–æ–ª–æ–Ω–∫–∞</th>
                                <th>–ß—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å</th>
                                <th>–ü—Ä–∏–º–µ—Ä</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>–°–∏—Ç—É–∞—Ü–∏—è</strong></td>
                                <td>
                                    –û–ø–∏—à–∏—Ç–µ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–∑–≤–∞–ª–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —ç–º–æ—Ü–∏–∏
                                    <div class="column-explanation">–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ? –ì–¥–µ? –ö–æ–≥–¥–∞? –° –∫–µ–º?</div>
                                </td>
                                <td>–ü–æ—Å–ª–µ —Å–ª–æ–∂–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —É–∫–∞–∑–∞–ª –Ω–∞ –æ—à–∏–±–∫—É –≤ –æ—Ç—á–µ—Ç–µ –ø—Ä–∏ –≤—Å–µ–º –∫–æ–ª–ª–µ–∫—Ç–∏–≤–µ</td>
                            </tr>
                            <tr>
                                <td><strong>–≠–º–æ—Ü–∏–∏</strong></td>
                                <td>
                                    –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —ç–º–æ—Ü–∏–∏ –∏ –∏—Ö –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å (0-100%)
                                    <div class="column-explanation">–ß—Ç–æ –≤—ã –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏? –ù–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ?</div>
                                </td>
                                <td>–¢—Ä–µ–≤–æ–≥–∞ (90%), —Å—Ç—ã–¥ (80%), –≥–Ω–µ–≤ (70%)</td>
                            </tr>
                            <tr>
                                <td><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º—ã—Å–ª—å</strong></td>
                                <td>
                                    –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –º—ã—Å–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—à–ª–∏ –≤ –≥–æ–ª–æ–≤—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                                    <div class="column-explanation">–ß—Ç–æ –≤—ã —Å–∫–∞–∑–∞–ª–∏ —Å–µ–±–µ? –ö–∞–∫–∏–µ –æ–±—Ä–∞–∑—ã –≤–æ–∑–Ω–∏–∫–ª–∏?</div>
                                </td>
                                <td>"–Ø –Ω–∏–∫—É–¥—ã—à–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç", "–í—Å–µ –≤–∏–¥—è—Ç, —á—Ç–æ —è –Ω–µ–∫–æ–º–ø–µ—Ç–µ–Ω—Ç–µ–Ω", "–ú–µ–Ω—è —É–≤–æ–ª—è—Ç"</td>
                            </tr>
                            <tr>
                                <td><strong>–î–æ–≤–æ–¥—ã –∑–∞</strong></td>
                                <td>
                                    –ù–∞–π–¥–∏—Ç–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –ø–æ–ª—å–∑—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º—ã—Å–ª–∏
                                    <div class="column-explanation">–ß—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —ç—Ç—É –º—ã—Å–ª—å? –ö–∞–∫–∏–µ —Ñ–∞–∫—Ç—ã?</div>
                                </td>
                                <td>–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, —è —Å–¥–µ–ª–∞–ª –æ—à–∏–±–∫—É –≤ –æ—Ç—á–µ—Ç–µ. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –±—ã–ª –Ω–µ–¥–æ–≤–æ–ª–µ–Ω.</td>
                            </tr>
                            <tr>
                                <td><strong>–î–æ–≤–æ–¥—ã –ø—Ä–æ—Ç–∏–≤</strong></td>
                                <td>
                                    –ù–∞–π–¥–∏—Ç–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø—Ä–æ—Ç–∏–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º—ã—Å–ª–∏
                                    <div class="column-explanation">–ß—Ç–æ –æ–ø—Ä–æ–≤–µ—Ä–≥–∞–µ—Ç —ç—Ç—É –º—ã—Å–ª—å? –ö–∞–∫–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è?</div>
                                </td>
                                <td>–Ø —Ä–∞–±–æ—Ç–∞—é —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º 5 –ª–µ—Ç, —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∞–ª –ø—Ä–æ–µ–∫—Ç—ã. –≠—Ç–æ –±—ã–ª–∞ –º–µ–ª–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ—Å–ª–µ —Ç—è–∂–µ–ª–æ–≥–æ –¥–Ω—è.</td>
                            </tr>
                            <tr>
                                <td><strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –º—ã—Å–ª—å</strong></td>
                                <td>
                                    –°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –±–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∑–≥–ª—è–¥
                                    <div class="column-explanation">–ö–∞–∫ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—é –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ?</div>
                                </td>
                                <td>–î–∞, —è —Å–¥–µ–ª–∞–ª –æ—à–∏–±–∫—É, –Ω–æ —ç—Ç–æ –Ω–µ –¥–µ–ª–∞–µ—Ç –º–µ–Ω—è –ø–ª–æ—Ö–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º. –í–∞–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –µ–µ –∏ –±—ã—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ.</td>
                            </tr>
                            <tr>
                                <td><strong>–≠–º–æ—Ü–∏–∏ –ø–æ—Å–ª–µ</strong></td>
                                <td>
                                    –ü–µ—Ä–µ–æ—Ü–µ–Ω–∏—Ç–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã—Ö —ç–º–æ—Ü–∏–π
                                    <div class="column-explanation">–ö–∞–∫ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –≤–∞—à–∏ —á—É–≤—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞?</div>
                                </td>
                                <td>–¢—Ä–µ–≤–æ–≥–∞ (40%), —Å—Ç—ã–¥ (20%), –≥–Ω–µ–≤ (30%)</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="methodology-tip" style="margin-top: 1.5rem;">
                        <p>üí° <strong>–°–æ–≤–µ—Ç:</strong> –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –±—ã—Å—Ç—Ä–µ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—ã—Å–ª–∏ –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–∏—Ö –±–æ–ª–µ–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ.</p>
                    </div>
                </div>

                <!-- –°–µ–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ -->
                <div class="download-section fade-in-element">
                    <h2>–°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω –¥–Ω–µ–≤–Ω–∏–∫–∞ –º—ã—Å–ª–µ–π</h2>
                    <p>–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–Ω–µ–≤–Ω–∏–∫–æ–º –º—ã—Å–ª–µ–π –≤—ã –º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ Word.</p>
                    <div class="download-buttons">
                        <button class="download-btn template" onclick="downloadTemplate()">
                            üìÑ –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω (.docx)
                        </button>
                    </div>
                </div>

                <!-- –ë–ª–æ–∫ —ç–º–æ—Ü–∏–∏ –∏ —á—É–≤—Å—Ç–≤–∞ -->
                <div class="emotions-feelings-section fade-in-element">
                    <h2>–≠–º–æ—Ü–∏–∏ –∏ —á—É–≤—Å—Ç–≤–∞: –≤ —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞?</h2>
                    
                    <p>–≠–º–æ—Ü–∏–∏ –∏ —á—É–≤—Å—Ç–≤–∞ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é, –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å—é –∏ –æ–±—ä–µ–∫—Ç–æ–º –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–π. –í —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–π —Ä–µ—á–∏ —ç—Ç–∏ –ø–æ–Ω—è—Ç–∏—è —á–∞—Å—Ç–æ –∑–∞–º–µ–Ω—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞, –Ω–æ –≤ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è —Ä–∞–∑–ª–∏—á–∏–µ.</p>
                    
                    <div class="emotions-feelings-grid">
                        <div class="emotions-column">
                            <h3>–≠–º–æ—Ü–∏–∏</h3>
                            <p>–≠–º–æ—Ü–∏–∏ ‚Äî –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, —Å–∏—Ç—É–∞—Ü–∏–∏ –∏–ª–∏ —Å—Ç–∏–º—É–ª—ã. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</p>
                            <ul>
                                <li><strong>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong> ‚Äî —ç–º–æ—Ü–∏–∏ –¥–ª—è—Ç—Å—è –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è, –∏–Ω–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.</li>
                                <li><strong>–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å</strong> ‚Äî –º–æ–≥—É—Ç –±—ã—Ç—å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–º–∏.</li>
                                <li><strong>–û–±—ä–µ–∫—Ç</strong> ‚Äî —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –∏–ª–∏ —Å—Ç–∏–º—É–ª.</li>
                                <li><strong>–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å</strong> ‚Äî –º–µ–Ω–µ–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã, —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ã.</li>
                                <li><strong>–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ.</li>
                                <li><strong>–í–ª–∏—è–Ω–∏–µ</strong> ‚Äî –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.</li>
                            </ul>
                            <p><strong>–ü—Ä–∏–º–µ—Ä—ã —ç–º–æ—Ü–∏–π:</strong> —Ä–∞–¥–æ—Å—Ç—å, –≥—Ä—É—Å—Ç—å, –∑–ª–æ—Å—Ç—å, —Å—Ç—Ä–∞—Ö, –æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ, —Ç—Ä–µ–≤–æ–≥–∞ –∏ –¥—Ä.</p>
                        </div>
                        
                        <div class="feelings-column">
                            <h3>–ß—É–≤—Å—Ç–≤–∞</h3>
                            <p>–ß—É–≤—Å—Ç–≤–∞ ‚Äî —É—Å—Ç–æ–π—á–∏–≤—ã–µ, –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Ä–∞–∂–∞—é—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞ –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –ø—Ä–µ–¥–º–µ—Ç–∞–º, —è–≤–ª–µ–Ω–∏—è–º –∏ –ª—é–¥—è–º. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º –∏ —Ü–µ–Ω–Ω–æ—Å—Ç—è–º —á–µ–ª–æ–≤–µ–∫–∞. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</p>
                            <ul>
                                <li><strong>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong> ‚Äî —á—É–≤—Å—Ç–≤–∞ –º–æ–≥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –¥–∞–∂–µ –≤—Å–µ–π –∂–∏–∑–Ω–∏.</li>
                                <li><strong>–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å</strong> ‚Äî –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–º–∏, —Ç–∞–∫ –∏ –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏.</li>
                                <li><strong>–û–±—ä–µ–∫—Ç</strong> ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –ª—é–¥–µ–π, –æ–±—ä–µ–∫—Ç—ã, —è–≤–ª–µ–Ω–∏—è, –∏–¥–µ–∏.</li>
                                <li><strong>–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å</strong> ‚Äî –±–æ–ª–µ–µ –æ—Å–æ–∑–Ω–∞–Ω—ã –∏ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã.</li>
                                <li><strong>–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø—ã—Ç–∞, —É–±–µ–∂–¥–µ–Ω–∏–π –∏ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π.</li>
                            </ul>
                            <p><strong>–ü—Ä–∏–º–µ—Ä—ã —á—É–≤—Å—Ç–≤:</strong> –ª—é–±–æ–≤—å, –Ω–µ–Ω–∞–≤–∏—Å—Ç—å, –≤–∏–Ω–∞, –ø—Ä–µ–∑—Ä–µ–Ω–∏–µ, —É–≤–∞–∂–µ–Ω–∏–µ, –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å, —Å–∏–º–ø–∞—Ç–∏—è –∏ –¥—Ä.</p>
                        </div>
                    </div>
                    
                    <div class="emotions-feelings-note">
                        <p><strong>–í–∞–∂–Ω–æ:</strong> –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ —ç–º–æ—Ü–∏–∏ –∏ —á—É–≤—Å—Ç–≤–∞ –º–æ–≥—É—Ç –Ω–µ —Å–æ–≤–ø–∞–¥–∞—Ç—å ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å –ª—é–±–æ–≤—å –∫ –ø–∞—Ä—Ç–Ω—ë—Ä—É –∏ –ø—Ä–∏ —ç—Ç–æ–º –æ—â—É—â–∞—Ç—å —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω –æ–ø–∞–∑–¥—ã–≤–∞–µ—Ç.</p>
                    </div>
                </div>

                <h2 class="fade-in-element">–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—ã—Å–ª–∏?</h2>
                
                <p class="fade-in-element">
                    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—ã—Å–ª–∏ –∏–º–µ—é—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏. –í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å:
                </p>

                <div class="criteria-grid">
                    <div class="criteria-card fade-in-element">
                        <h4>–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç—å</h4>
                        <p>–ú—ã—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –±—ã—Å—Ç—Ä–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –±–µ–∑ —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö —É—Å–∏–ª–∏–π. –û–Ω–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –±—ã "—Å–∞–º–∏ –ø–æ —Å–µ–±–µ".</p>
                    </div>
                    
                    <div class="criteria-card fade-in-element">
                        <h4>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∑–∞—Ä—è–¥</h4>
                        <p>–°–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç—Å—è —Å–∏–ª—å–Ω—ã–º–∏ —ç–º–æ—Ü–∏—è–º–∏ ‚Äî —Ç—Ä–µ–≤–æ–≥–æ–π, –≥–Ω–µ–≤–æ–º, –≥—Ä—É—Å—Ç—å—é, —Å—Ç—ã–¥–æ–º.</p>
                    </div>
                    
                    <div class="criteria-card fade-in-element">
                        <h4>–í–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –∫–∞–∫ –ø—Ä–∞–≤–¥–∞</h4>
                        <p>–í—ã —Å–∫–ª–æ–Ω–Ω—ã –≤–µ—Ä–∏—Ç—å —ç—Ç–∏–º –º—ã—Å–ª—è–º, –Ω–µ –ø–æ–¥–≤–µ—Ä–≥–∞—è –∏—Ö —Å–æ–º–Ω–µ–Ω–∏—é –∏–ª–∏ –∫—Ä–∏—Ç–∏–∫–µ.</p>
                    </div>
                    
                    <div class="criteria-card fade-in-element">
                        <h4>–ö—Ä–∞—Ç–∫–æ—Å—Ç—å –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å</h4>
                        <p>–ß–∞—Å—Ç–æ –≤—ã—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä–æ—Ç–∫–∏–º–∏ —Ñ—Ä–∞–∑–∞–º–∏ –∏–ª–∏ –æ–±—Ä–∞–∑–∞–º–∏, —Å–≤—è–∑–∞–Ω—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–µ–π.</p>
                    </div>
                    
                    <div class="criteria-card fade-in-element">
                        <h4>–ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å</h4>
                        <p>–ü–æ—Ö–æ–∂–∏–µ –º—ã—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –≤ —Å—Ö–æ–∂–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö, –æ–±—Ä–∞–∑—É—è —É—Å—Ç–æ–π—á–∏–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.</p>
                    </div>
                    
                    <div class="criteria-card fade-in-element">
                        <h4>–¢—Ä—É–¥–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—è</h4>
                        <p>–ò—Ö —Å–ª–æ–∂–Ω–æ "–æ—Ç–∫–ª—é—á–∏—Ç—å" –∏–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Å–∏–ª–∏–µ–º –≤–æ–ª–∏.</p>
                    </div>
                </div>

                <h2 class="fade-in-element">–ü—Ä–∏–º–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º—ã—Å–ª–µ–π</h2>
                
                <div class="example-block fade-in-element">
                    <h3>–í –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å—Ñ–µ—Ä–µ:</h3>
                    <ul>
                        <li><strong>"–Ø —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ —Å–ø—Ä–∞–≤–ª—è—é—Å—å —Å —Ä–∞–±–æ—Ç–æ–π"</strong> ‚Äî –ø–æ—Å–ª–µ –æ–¥–Ω–æ–π –æ—à–∏–±–∫–∏</li>
                        <li><strong>"–ö–æ–ª–ª–µ–≥–∏ —Å—á–∏—Ç–∞—é—Ç –º–µ–Ω—è –Ω–µ–∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω—ã–º"</strong> ‚Äî –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤</li>
                        <li><strong>"–ï—Å–ª–∏ —è –ø–æ–ø—Ä–æ—à—É –æ –ø–æ–º–æ—â–∏, –≤—Å–µ –ø–æ–¥—É–º–∞—é—Ç, —á—Ç–æ —è –Ω–µ—É–¥–∞—á–Ω–∏–∫"</strong> ‚Äî –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏–∑–∞—Ü–∏—è</li>
                        <li><strong>"–ú–µ–Ω—è —Ç–æ—á–Ω–æ —É–≤–æ–ª—è—Ç"</strong> ‚Äî –ø–æ—Å–ª–µ –Ω–µ–±–æ–ª—å—à–æ–≥–æ –∑–∞–º–µ—á–∞–Ω–∏—è –æ—Ç –Ω–∞—á–∞–ª—å—Å—Ç–≤–∞</li>
                    </ul>
                </div>
                
                <div class="example-block fade-in-element">
                    <h3>–í –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏:</h3>
                    <ul>
                        <li><strong>"–Ø –Ω–∏–∫–æ–º—É –Ω–µ –Ω—É–∂–µ–Ω"</strong> ‚Äî –∫–æ–≥–¥–∞ –±–ª–∏–∑–∫–∏–µ –∑–∞–Ω—è—Ç—ã —Å–≤–æ–∏–º–∏ –¥–µ–ª–∞–º–∏</li>
                        <li><strong>"–°–æ –º–Ω–æ–π —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫"</strong> ‚Äî –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–µ–π</li>
                        <li><strong>"–Ø –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥—É —Å—á–∞—Å—Ç–ª–∏–≤"</strong> ‚Äî –æ–±–æ–±—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç—Ä—É–¥–Ω–æ—Å—Ç–µ–π</li>
                        <li><strong>"–í—Å–µ –º–µ–Ω—è –æ—Å—É–∂–¥–∞—é—Ç"</strong> ‚Äî —á—Ç–µ–Ω–∏–µ –º—ã—Å–ª–µ–π –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π</li>
                    </ul>
                </div>

                <h2 class="fade-in-element">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä –¥–Ω–µ–≤–Ω–∏–∫–∞ –º—ã—Å–ª–µ–π</h2>
                
                <p class="fade-in-element">
                    –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –º—ã—Å–ª—å —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–µ–≥–æ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞. 
                    –≠—Ç–æ –∑–∞–π–º–µ—Ç –≤—Å–µ–≥–æ 5-10 –º–∏–Ω—É—Ç, –Ω–æ –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–∞—à–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏.
                </p>
            </article>
        </div>
    </section>

    <!-- –¢—Ä–µ–Ω–∞–∂–µ—Ä –¥–Ω–µ–≤–Ω–∏–∫–∞ –º—ã—Å–ª–µ–π -->
    <section class="section-wide">
        <div class="diary-content">
            <article class="diary-article">
                <div class="trainer-section fade-in-element">
                    <h2 class="trainer-title">–¢—Ä–µ–Ω–∞–∂–µ—Ä –¥–Ω–µ–≤–Ω–∏–∫–∞ –º—ã—Å–ª–µ–π</h2>
                    
                    <div id="step1" class="trainer-step">
                        <h3><span class="step-number">1</span> –°–∏—Ç—É–∞—Ü–∏—è</h3>
                        <p>–û–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–≤–∞–ª–∞ —É –≤–∞—Å –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —ç–º–æ—Ü–∏–∏. –ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã: —á—Ç–æ, –≥–¥–µ, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–æ?</p>
                        <textarea class="trainer-input trainer-textarea" id="situation" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–æ—Å–ª–µ —Å–ª–æ–∂–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —É–∫–∞–∑–∞–ª –Ω–∞ –æ—à–∏–±–∫—É –≤ –æ—Ç—á–µ—Ç–µ –ø—Ä–∏ –≤—Å–µ–º –∫–æ–ª–ª–µ–∫—Ç–∏–≤–µ..."></textarea>
                    </div>
                    
                    <div id="step2" class="trainer-step" style="display: none;">
                        <h3><span class="step-number">2</span> –≠–º–æ—Ü–∏–∏ –∏ –æ—â—É—â–µ–Ω–∏—è</h3>
                        <p>–ö–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ –≤—ã –∏—Å–ø—ã—Ç–∞–ª–∏? –û—Ü–µ–Ω–∏—Ç–µ –∏—Ö –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø–æ —à–∫–∞–ª–µ –æ—Ç 0 –¥–æ 100%.</p>
                        
                        <div id="emotions-container">
                            <div class="emotion-item">
                                <div class="autocomplete-container">
                                    <input type="text" class="emotion-input emotion-name" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–º–æ—Ü–∏–∏..." autocomplete="off">
                                    <div class="autocomplete-list"></div>
                                </div>
                                <input type="number" class="trainer-input emotion-intensity" placeholder="0-100%" min="0" max="100" step="10">
                                <button class="remove-emotion-btn" onclick="removeEmotion(this)">√ó</button>
                            </div>
                        </div>
                        
                        <button class="add-emotion-btn" onclick="addEmotion()">+ –î–æ–±–∞–≤–∏—Ç—å —ç–º–æ—Ü–∏—é</button>
                    </div>
                    
                    <div id="step3" class="trainer-step" style="display: none;">
                        <h3><span class="step-number">3</span> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—ã—Å–ª–∏</h3>
                        <p>–ö–∞–∫–∏–µ –º—ã—Å–ª–∏ –ø—Ä–∏—à–ª–∏ –≤–∞–º –≤ –≥–æ–ª–æ–≤—É –≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç? –ß—Ç–æ –≤—ã —Å–∫–∞–∑–∞–ª–∏ —Å–µ–±–µ? –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏—Ö –±–µ–∑ —Ü–µ–Ω–∑—É—Ä—ã.</p>
                        <textarea class="trainer-input trainer-textarea" id="thoughts" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: '–Ø –Ω–∏–∫—É–¥—ã—à–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç', '–í—Å–µ –≤–∏–¥—è—Ç, —á—Ç–æ —è –Ω–µ–∫–æ–º–ø–µ—Ç–µ–Ω—Ç–µ–Ω', '–ú–µ–Ω—è —É–≤–æ–ª—è—Ç'"></textarea>
                        
                        <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ª–∏ –≤–∞—à–∏ –º—ã—Å–ª–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º—ã—Å–ª–µ–π (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç—å, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∑–∞—Ä—è–¥, –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –∫–∞–∫ –ø—Ä–∞–≤–¥–∞).</p>
                    </div>
                    
                    <div id="step4" class="trainer-step" style="display: none;">
                        <h3><span class="step-number">4</span> –ê–Ω–∞–ª–∏–∑ –∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞</h3>
                        <div class="evidence-for">
                            <p><strong>–ö–∞–∫–∏–µ –µ—Å—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –ø–æ–ª—å–∑—É –≤–∞—à–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º—ã—Å–ª–µ–π?</strong></p>
                            <textarea class="trainer-input trainer-textarea" id="evidence_for" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, —è —Å–¥–µ–ª–∞–ª –æ—à–∏–±–∫—É –≤ –æ—Ç—á–µ—Ç–µ"></textarea>
                        </div>
                        
                        <div class="evidence-against">
                            <p><strong>–ö–∞–∫–∏–µ –µ—Å—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø—Ä–æ—Ç–∏–≤ —ç—Ç–∏—Ö –º—ã—Å–ª–µ–π?</strong></p>
                            <textarea class="trainer-input trainer-textarea" id="evidence_against" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –Ø —Ä–∞–±–æ—Ç–∞—é —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º 5 –ª–µ—Ç, —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∞–ª –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ–ª–ª–µ–≥–∏ —É–≤–∞–∂–∞—é—Ç –º–µ–Ω—è, —ç—Ç–æ –±—ã–ª–∞ –º–µ–ª–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ—Å–ª–µ —Ç—è–∂–µ–ª–æ–≥–æ –¥–Ω—è"></textarea>
                        </div>
                    </div>
                    
                    <div id="step5" class="trainer-step" style="display: none;">
                        <h3><span class="step-number">5</span> –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –º—ã—Å–ª—å –∏ –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞ —ç–º–æ—Ü–∏–π</h3>
                        <p>–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –±–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—É—é –º—ã—Å–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤.</p>
                        <textarea class="trainer-input trainer-textarea" id="alternative_thought" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–∞, —è —Å–¥–µ–ª–∞–ª –Ω–µ–±–æ–ª—å—à—É—é –æ—à–∏–±–∫—É –≤ –æ—Ç—á–µ—Ç–µ –ø–æ—Å–ª–µ —Ç—è–∂–µ–ª–æ–≥–æ –¥–Ω—è, –Ω–æ —ç—Ç–æ –Ω–µ –¥–µ–ª–∞–µ—Ç –º–µ–Ω—è –ø–ª–æ—Ö–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º. –Ø —á–µ–ª–æ–≤–µ–∫ –∏ –º–æ–≥—É —É—Å—Ç–∞–≤–∞—Ç—å. –í–∞–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –∏ –≤ –±—É–¥—É—â–µ–º –±—ã—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ"></textarea>
                        
                        <p>–ü–µ—Ä–µ–æ—Ü–µ–Ω–∏—Ç–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã—Ö —ç–º–æ—Ü–∏–π –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π –º—ã—Å–ª–∏:</p>
                        
                        <div id="reevaluation-container">
                            <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –ø–æ–ª—è –¥–ª—è –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∏ —ç–º–æ—Ü–∏–π -->
                        </div>
                    </div>
                    
                    <div class="trainer-buttons">
                        <button class="trainer-btn prev" id="prevBtn" onclick="prevStep()" style="display: none;">‚Üê –ù–∞–∑–∞–¥</button>
                        <button class="trainer-btn next" id="nextBtn" onclick="nextStep()">–î–∞–ª–µ–µ ‚Üí</button>
                    </div>
                    
                    <div id="completeSection" style="display: none; text-align: center; margin-top: 2rem;">
                        <button class="trainer-btn complete" onclick="showResult()">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∞–Ω–∞–ª–∏–∑</button>
                    </div>
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ -->
                <div class="result-section" id="resultSection">
                    <h2 class="result-title">–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω! üéâ</h2>
                    <p style="color: #ffffff !important;">–í–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞—à–µ–π —Ä–∞–±–æ—Ç—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º—ã—Å–ª—å—é:</p>
                    
                    <div class="result-content">
                        <div class="result-item">
                            <span class="result-label">üìù –°–∏—Ç—É–∞—Ü–∏—è:</span>
                            <span class="result-value" id="resultSituation"></span>
                        </div>
                        
                        <div class="result-item">
                            <span class="result-label">üí≠ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—ã—Å–ª–∏:</span>
                            <span class="result-value" id="resultThoughts"></span>
                        </div>
                        
                        <div class="result-item">
                            <span class="result-label">üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –º—ã—Å–ª—å:</span>
                            <span class="result-value" id="resultAlternative"></span>
                        </div>
                        
                        <div class="result-item">
                            <span class="result-label">üìà –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ —ç–º–æ—Ü–∏–π:</span>
                            <div class="progress-bars-container" id="progressBarsContainer">
                                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã JavaScript -->
                            </div>
                            
                            <div class="progress-legend">
                                <div class="legend-item">
                                    <div class="legend-color legend-initial"></div>
                                    <span>–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –¥–æ –∞–Ω–∞–ª–∏–∑–∞</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color legend-final"></div>
                                    <span>–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞</span>
                                </div>
                            </div>
                            
                            <div id="emotionChangeSummary" class="emotion-change-summary" style="margin-top: 1.5rem; padding: 1rem; background: rgba(46, 204, 113, 0.2); border-radius: 8px; border-left: 4px solid var(--success-color);">
                                <!-- –¢–µ–∫—Å—Ç –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="download-buttons" style="margin-top: 2rem;">
                        <button class="download-btn excel" onclick="downloadExcel()">
                            üìä –°–∫–∞—á–∞—Ç—å –≤ Excel
                        </button>
                        <button class="download-btn pdf" onclick="downloadPDF()">
                            üìÑ –°–∫–∞—á–∞—Ç—å –≤ PDF
                        </button>
                    </div>
                    
                    <button class="trainer-btn" onclick="resetTrainer()" style="margin-top: 1rem; background: #ffffff; color: var(--primary-color);">–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑</button>
                </div>
            </article>
        </div>
    </section>

    <!-- –ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è -->
    <section class="section-wide">
        <div class="diary-content">
            <article class="diary-article">
                <h2 class="fade-in-element">–ü–æ—á–µ–º—É –¥–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω?</h2>
                
                <p class="fade-in-element">
                    –î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–π —Ç–µ—Ä–∞–ø–∏–∏ (–ö–ü–¢), –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç –ø—Ä–æ—á–Ω—É—é –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—É—é –±–∞–∑—É –≤ –ª–µ—á–µ–Ω–∏–∏ –¥–µ–ø—Ä–µ—Å—Å–∏–∏, —Ç—Ä–µ–≤–æ–≥–∏ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è.
                </p>

                <div class="info-block fade-in-element">
                    <h3>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–µ—Ç–æ–¥–∞:</h3>
                    <ul>
                        <li><strong>–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å:</strong> –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π –∏–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</li>
                        <li><strong>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:</strong> –ú–æ–∂–Ω–æ –≤–µ—Å—Ç–∏ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –∏ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ</li>
                        <li><strong>–ë—ã—Å—Ç—Ä—ã–π —ç—Ñ—Ñ–µ–∫—Ç:</strong> –ü–µ—Ä–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–º–µ—Ç–Ω—ã —É–∂–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π</li>
                        <li><strong>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –º—ã—Å–ª–µ–π</li>
                        <li><strong>–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ:</strong> –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –º–µ–Ω—è–µ—Ç –ø—Ä–∏–≤—ã—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –º—ã—à–ª–µ–Ω–∏—è</li>
                    </ul>
                </div>

                <div class="methodology-tip fade-in-element">
                    <p> <strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç:</strong> –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –∑–∞–ø–æ–ª–Ω—è—Ç—å –¥–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π —Ä–µ–≥—É–ª—è—Ä–Ω–æ ‚Äî —Ö–æ—Ç—è –±—ã 3-4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é. –ù–∞—á–Ω–∏—Ç–µ —Å —Å–∞–º—ã—Ö —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞—Ä—è–∂–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π. –°–æ –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—ã—Å–ª–∏ "–Ω–∞ –ª–µ—Ç—É" –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏—Ö –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ –≤—ã–∑–æ–≤—É—Ç —Å–∏–ª—å–Ω—É—é —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Ä–µ–∞–∫—Ü–∏—é.</p>
                </div>
            </article>
        </div>
    </section>

        <!-- –§—É—Ç–µ—Ä -->
    <footer class="tilda-footer">
        <div class="footer-content">
            <div class="footer-section fade-in-element">
                <h3>–ù–ï –ì–û–†–ò</h3>
                <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è</p>
            </div>
            
            <div class="footer-section fade-in-element">
                <h3>–†–∞–∑–¥–µ–ª—ã</h3>
                <nav class="footer-nav">
                    <a href="pages/quick-help.html">–ë—ã—Å—Ç—Ä–∞—è –ø–æ–º–æ—â—å</a>
                    <a href="pages/daily.html">–ú–µ—Ç–æ–¥–∏–∫–∏</a>
                    <a href="pages/materials.html">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a>
                    <a href="pages/tests.html">–¢–µ—Å—Ç—ã</a>
                    <a href="contacts.html" class="nav-link"> –ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                </nav>
            </div>
            
            <div class="footer-section fade-in-element">
                <h3>–ü—Ä–æ—á–µ–µ</h3>
                <nav class="footer-nav">
                    <a href="#privacy">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                    <a href="#terms">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
                </nav>
            </div>
        </div>
            
        
        <div class="footer-bottom fade-in-element">
            <p>&copy; 2025 –ù–ï –ì–û–†–ò. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>


    <script>
        // –°–ø–∏—Å–æ–∫ —ç–º–æ—Ü–∏–π –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
        const emotionsList = [
            "–ê–≥—Ä–µ—Å—Å–∏—è", "–ê–ø–∞—Ç–∏—è", "–ë–µ–∑—ã—Å—Ö–æ–¥–Ω–æ—Å—Ç—å", "–ë–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ", "–ë–µ—Å–ø–æ–º–æ—â–Ω–æ—Å—Ç—å",
            "–ë–µ—Å—Å–∏–ª–∏–µ", "–ë–æ–ª—å", "–í–∏–Ω–∞", "–í–æ–∑–º—É—â–µ–Ω–∏–µ", "–í–æ–ª–Ω–µ–Ω–∏–µ", "–í—Ä–∞–∂–¥–µ–±–Ω–æ—Å—Ç—å",
            "–ì–Ω–µ–≤", "–ì–æ—Ä–µ", "–ì–æ—Ä–¥—ã–Ω—è", "–ì–æ—Ä—å–∫–æ", "–ì—Ä—É—Å—Ç—å", "–î–æ—Å–∞–¥–∞", "–ñ–∞–ª–æ—Å—Ç—å –∫ —Å–µ–±–µ",
            "–ó–∞–≤–∏—Å—Ç—å", "–ó–ª–æ—Å—Ç—å", "–ò—Å–ø—É–≥", "–ú—Å—Ç–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ", "–ù–µ–¥–æ–≤–µ—Ä–∏–µ",
            "–ù–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ", "–ù–µ–ª–æ–≤–∫–æ—Å—Ç—å", "–ù–µ–ø—Ä–∏—è–∑–Ω—å", "–ù–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", "–û–±–∏–¥–∞",
            "–û—Ç–≤—Ä–∞—â–µ–Ω–∏–µ", "–û–≥–æ—Ä—á–µ–Ω–∏–µ", "–û–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ", "–û—Ç—á–∞—è–Ω–∏–µ", "–ü–∞–Ω–∏–∫–∞", "–ü–µ—á–∞–ª—å",
            "–ü–æ–¥–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å", "–ü—Ä–µ–∑—Ä–µ–Ω–∏–µ", "–†–∞—Å—Ç–µ—Ä—è–Ω–Ω–æ—Å—Ç—å", "–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ", "–†–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ",
            "–†–µ–≤–Ω–æ—Å—Ç—å", "–°–∫—É–∫–∞", "–°–∫–æ—Ä–±—å", "–°–º—É—â–µ–Ω–∏–µ", "–°–æ–º–Ω–µ–Ω–∏–µ", "–°–æ–ø–µ—Ä–Ω–∏—á–µ—Å—Ç–≤–æ",
            "–°—Ç—Ä–∞–¥–∞–Ω–∏–µ", "–°—Ç—Ä–∞—Ö", "–°—Ç—ã–¥", "–¢—Ä–µ–≤–æ–≥–∞", "–£–∂–∞—Å", "–£–Ω–∏–∂–µ–Ω–∏–µ", "–£–Ω—ã–Ω–∏–µ",
            "–§—Ä—É—Å—Ç—Ä–∞—Ü–∏—è", "–Ø—Ä–æ—Å—Ç—å"
        ];

        // ===== –°–ò–°–¢–ï–ú–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò =====
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ –≤–≤–æ–¥–∞
        function sanitizeInput(input) {
            if (typeof input !== 'string') return '';
            
            // –£–¥–∞–ª—è–µ–º –æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
            return input
                .replace(/[<>"'&`]/g, '') // –ë–∞–∑–æ–≤—ã–µ HTML —Å–∏–º–≤–æ–ª—ã
                .replace(/[;|&$(){}\[\]\\]/g, '') // –ö–æ–º–∞–Ω–¥–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
                .replace(/\.\.\//g, '') // Path traversal
                .replace(/\b(union|select|drop|insert|update|delete|script|javascript|on\w+)\b/gi, '') // SQL –∏ XSS
                .substring(0, 1000); // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ (—Ä–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)
        function safeTextInput(text) {
            if (typeof text !== 'string') return '';
            // –†–∞–∑—Ä–µ—à–∞–µ–º: –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø—Ä–æ–±–µ–ª—ã, –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è, –∫–∏—Ä–∏–ª–ª–∏—Ü—É
            return text.replace(/[^a-zA-Z–∞-—è–ê-–Ø0-9\s\-_\.@,?!:()]/g, '')
                      .substring(0, 1000);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —á–∏—Å–µ–ª
        function safeNumberInput(value, min = 0, max = 100) {
            const num = parseInt(value);
            if (isNaN(num)) return min;
            return Math.min(Math.max(num, min), max);
        }

        // ===== –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –¢–†–ï–ù–ê–ñ–ï–†–ê =====
        
        let currentStep = 1;
        const totalSteps = 5;
        let emotions = [];
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
        function setupAutocomplete(inputElement) {
            const list = inputElement.parentElement.querySelector('.autocomplete-list');
            
            inputElement.addEventListener('input', function() {
                const value = safeTextInput(this.value).toLowerCase();
                list.innerHTML = '';
                
                if (value.length > 0) {
                    const filteredEmotions = emotionsList.filter(emotion => 
                        emotion.toLowerCase().includes(value)
                    );
                    
                    if (filteredEmotions.length > 0) {
                        filteredEmotions.forEach(emotion => {
                            const item = document.createElement('div');
                            item.className = 'autocomplete-item';
                            item.textContent = emotion;
                            item.addEventListener('click', function() {
                                inputElement.value = emotion;
                                list.style.display = 'none';
                            });
                            list.appendChild(item);
                        });
                        list.style.display = 'block';
                    } else {
                        list.style.display = 'none';
                    }
                } else {
                    list.style.display = 'none';
                }
            });
            
            // –°–∫—Ä—ã—Ç–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ —ç–ª–µ–º–µ–Ω—Ç–∞
            document.addEventListener('click', function(e) {
                if (!inputElement.parentElement.contains(e.target)) {
                    list.style.display = 'none';
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à
            inputElement.addEventListener('keydown', function(e) {
                const items = list.querySelectorAll('.autocomplete-item');
                let activeItem = list.querySelector('.autocomplete-item.active');
                
                if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    if (!activeItem) {
                        items[0]?.classList.add('active');
                    } else {
                        activeItem.classList.remove('active');
                        const next = activeItem.nextElementSibling;
                        if (next) next.classList.add('active');
                    }
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    if (activeItem) {
                        activeItem.classList.remove('active');
                        const prev = activeItem.previousElementSibling;
                        if (prev) prev.classList.add('active');
                    }
                } else if (e.key === 'Enter' && activeItem) {
                    e.preventDefault();
                    inputElement.value = activeItem.textContent;
                    list.style.display = 'none';
                }
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–º–æ—Ü–∏–∏
        function addEmotion() {
            const container = document.getElementById('emotions-container');
            const emotionItem = document.createElement('div');
            emotionItem.className = 'emotion-item';
            emotionItem.innerHTML = `
                <div class="autocomplete-container">
                    <input type="text" class="emotion-input emotion-name" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–º–æ—Ü–∏–∏..." autocomplete="off">
                    <div class="autocomplete-list"></div>
                </div>
                <input type="number" class="trainer-input emotion-intensity" placeholder="0-100%" min="0" max="100" step="10">
                <button class="remove-emotion-btn" onclick="removeEmotion(this)">√ó</button>
            `;
            container.appendChild(emotionItem);
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è
            const newInput = emotionItem.querySelector('.emotion-input');
            setupAutocomplete(newInput);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤–≤–æ–¥–∞
            newInput.addEventListener('input', function() {
                this.value = safeTextInput(this.value);
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —ç–º–æ—Ü–∏–∏
        function removeEmotion(button) {
            const emotionItem = button.parentElement;
            if (document.querySelectorAll('.emotion-item').length > 1) {
                emotionItem.remove();
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —ç–º–æ—Ü–∏–π
        function validateEmotions() {
            const emotionItems = document.querySelectorAll('.emotion-item');
            let isValid = true;
            let errorMessage = '';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é —ç–º–æ—Ü–∏—é
            emotionItems.forEach((item, index) => {
                const nameInput = item.querySelector('.emotion-input');
                const intensityInput = item.querySelector('.emotion-intensity');
                
                const name = safeTextInput(nameInput.value.trim());
                const intensity = intensityInput.value;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ
                if (!name) {
                    isValid = false;
                    nameInput.style.borderColor = 'var(--warning-color)';
                    errorMessage = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–º–æ—Ü–∏–∏';
                } else {
                    nameInput.style.borderColor = '';
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –ª–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å
                if (!intensity) {
                    isValid = false;
                    intensityInput.style.borderColor = 'var(--warning-color)';
                    errorMessage = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —ç–º–æ—Ü–∏–∏ (0-100%)';
                } else {
                    const intensityNum = parseInt(intensity);
                    if (isNaN(intensityNum) || intensityNum < 0 || intensityNum > 100) {
                        isValid = false;
                        intensityInput.style.borderColor = 'var(--warning-color)';
                        errorMessage = '–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 100';
                    } else {
                        intensityInput.style.borderColor = '';
                    }
                }
            });
            
            return { isValid, errorMessage };
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ–± —ç–º–æ—Ü–∏—è—Ö
        function collectEmotions() {
            emotions = [];
            const emotionItems = document.querySelectorAll('.emotion-item');
            
            emotionItems.forEach(item => {
                const nameInput = item.querySelector('.emotion-input');
                const intensityInput = item.querySelector('.emotion-intensity');
                
                if (nameInput.value.trim() && intensityInput.value) {
                    emotions.push({
                        name: safeTextInput(nameInput.value.trim()),
                        initialIntensity: safeNumberInput(intensityInput.value),
                        newIntensity: null
                    });
                }
            });
            
            return emotions.length > 0;
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–µ–π –¥–ª—è –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∏ —ç–º–æ—Ü–∏–π
        function createReevaluationFields() {
            const container = document.getElementById('reevaluation-container');
            container.innerHTML = '';
            
            emotions.forEach((emotion, index) => {
                const emotionItem = document.createElement('div');
                emotionItem.className = 'emotion-item';
                emotionItem.innerHTML = `
                    <span style="color: var(--text-color);">${sanitizeInput(emotion.name)}:</span>
                    <input type="number" class="trainer-input emotion-intensity" 
                           placeholder="0-100%" min="0" max="100" step="10"
                           onchange="updateEmotionIntensity(${index}, this.value)">
                    <span style="color: var(--text-color);">% (–±—ã–ª–æ ${emotion.initialIntensity}%)</span>
                `;
                container.appendChild(emotionItem);
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ —ç–º–æ—Ü–∏–∏
        function updateEmotionIntensity(index, value) {
            if (emotions[index]) {
                emotions[index].newIntensity = safeNumberInput(value);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
        function nextStep() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
            if (currentStep === 1) {
                const situation = document.getElementById('situation').value.trim();
                if (!situation) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é');
                    document.getElementById('situation').style.borderColor = 'var(--warning-color)';
                    return;
                }
                document.getElementById('situation').style.borderColor = '';
            }
            
            if (currentStep === 2) {
                const validation = validateEmotions();
                if (!validation.isValid) {
                    alert(validation.errorMessage);
                    return;
                }
                
                if (!collectEmotions()) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —ç–º–æ—Ü–∏—é —Å –æ—Ü–µ–Ω–∫–æ–π –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏');
                    return;
                }
            }
            
            if (currentStep === 3) {
                const thoughts = document.getElementById('thoughts').value.trim();
                if (!thoughts) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–∏—à–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—ã—Å–ª–∏');
                    document.getElementById('thoughts').style.borderColor = 'var(--warning-color)';
                    return;
                }
                document.getElementById('thoughts').style.borderColor = '';
            }
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —à–∞–≥
            document.getElementById(`step${currentStep}`).style.display = 'none';
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –Ω–æ–º–µ—Ä —à–∞–≥–∞
            currentStep++;
            
            // –ï—Å–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —à–∞–≥—É 5, —Å–æ–∑–¥–∞–µ–º –ø–æ–ª—è –¥–ª—è –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∏
            if (currentStep === 5) {
                createReevaluationFields();
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
            document.getElementById(`step${currentStep}`).style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            updateNavigationButtons();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —à–∞–≥—É
        function prevStep() {
            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —à–∞–≥
            document.getElementById(`step${currentStep}`).style.display = 'none';
            
            // –£–º–µ–Ω—å—à–∞–µ–º –Ω–æ–º–µ—Ä —à–∞–≥–∞
            currentStep--;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥
            document.getElementById(`step${currentStep}`).style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            updateNavigationButtons();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const completeSection = document.getElementById('completeSection');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
            if (currentStep > 1) {
                prevBtn.style.display = 'inline-block';
            } else {
                prevBtn.style.display = 'none';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–î–∞–ª–µ–µ" –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏—é –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            if (currentStep < totalSteps) {
                nextBtn.style.display = 'inline-block';
                completeSection.style.display = 'none';
            } else {
                nextBtn.style.display = 'none';
                completeSection.style.display = 'block';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
        function createProgressBars() {
            const container = document.getElementById('progressBarsContainer');
            
            let progressHTML = '';
            
            emotions.forEach(emotion => {
                const change = emotion.initialIntensity - emotion.newIntensity;
                const changeText = change > 0 ? `‚Üì${change}%` : change < 0 ? `‚Üë${Math.abs(change)}%` : '‚Üí0%';
                const changeClass = change > 0 ? 'positive' : change < 0 ? 'negative' : 'neutral';
                
                progressHTML += `
                    <div class="progress-item">
                        <div class="progress-header">
                            <span class="progress-emotion-name">${emotion.name}</span>
                            <span class="change-indicator ${changeClass}">${changeText}</span>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-initial" style="width: ${emotion.initialIntensity}%"></div>
                            <div class="progress-final" style="width: ${emotion.newIntensity}%"></div>
                        </div>
                        <div class="progress-labels">
                            <span>–ë—ã–ª–æ: ${emotion.initialIntensity}%</span>
                            <span>–°—Ç–∞–ª–æ: ${emotion.newIntensity}%</span>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = progressHTML;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç–º–æ—Ü–∏–π
        function analyzeEmotionChanges() {
            let totalReduction = 0;
            let reducedEmotions = 0;
            
            emotions.forEach(emotion => {
                const reduction = emotion.initialIntensity - emotion.newIntensity;
                if (reduction > 0) {
                    totalReduction += reduction;
                    reducedEmotions++;
                }
            });
            
            const averageReduction = reducedEmotions > 0 ? Math.round(totalReduction / reducedEmotions) : 0;
            
            const summaryElement = document.getElementById('emotionChangeSummary');
            
            if (averageReduction > 0) {
                summaryElement.innerHTML = `
                    <p style="color: #ffffff; margin-bottom: 0.5rem;"><strong>–≠–º–æ—Ü–∏–∏ —Å–Ω–∏–∑–∏–ª–∏—Å—å –≤ —Å—Ä–µ–¥–Ω–µ–º –Ω–∞ ${averageReduction}%! –í—ã –º–æ–ª–æ–¥–µ—Ü! üéâ</strong></p>
                    <p style="color: #ffffff; margin-bottom: 0;">–≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º—ã—Å–ª—è–º–∏.</p>
                `;
            } else {
                summaryElement.innerHTML = `
                    <p style="color: #ffffff; margin-bottom: 0.5rem;">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —ç–º–æ—Ü–∏–π –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –∏–ª–∏ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º—ã—Å–ª—è–º–∏ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏.</p>
                    <p style="color: #ffffff; margin-bottom: 0;">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º.</p>
                `;
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        function showResult() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ —ç–º–æ—Ü–∏–∏ –ø–µ—Ä–µ–æ—Ü–µ–Ω–µ–Ω—ã
            const allReevaluated = emotions.every(emotion => emotion.newIntensity !== null);
            if (!allReevaluated) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ü–µ–Ω–∏—Ç–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —ç–º–æ—Ü–∏–π –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π –º—ã—Å–ª–∏');
                return;
            }
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã —Å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–µ–π
            const situation = safeTextInput(document.getElementById('situation').value);
            const thoughts = safeTextInput(document.getElementById('thoughts').value);
            const alternativeThought = safeTextInput(document.getElementById('alternative_thought').value);
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            document.getElementById('resultSituation').textContent = situation || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
            document.getElementById('resultThoughts').textContent = thoughts || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
            document.getElementById('resultAlternative').textContent = alternativeThought || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
            
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
            createProgressBars();
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π
            analyzeEmotionChanges();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏—é —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
            document.getElementById('resultSection').style.display = 'block';
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞
        function resetTrainer() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —à–∞–≥
            currentStep = 1;
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —à–∞–≥–∏, –∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–≥–æ
            for (let i = 2; i <= totalSteps; i++) {
                const stepElement = document.getElementById(`step${i}`);
                if (stepElement) {
                    stepElement.style.display = 'none';
                }
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π —à–∞–≥
            const firstStep = document.getElementById('step1');
            if (firstStep) {
                firstStep.style.display = 'block';
            }
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const resultSection = document.getElementById('resultSection');
            if (resultSection) {
                resultSection.style.display = 'none';
            }
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            const situationInput = document.getElementById('situation');
            const thoughtsInput = document.getElementById('thoughts');
            const evidenceForInput = document.getElementById('evidence_for');
            const evidenceAgainstInput = document.getElementById('evidence_against');
            const alternativeThoughtInput = document.getElementById('alternative_thought');
            
            if (situationInput) situationInput.value = '';
            if (thoughtsInput) thoughtsInput.value = '';
            if (evidenceForInput) evidenceForInput.value = '';
            if (evidenceAgainstInput) evidenceAgainstInput.value = '';
            if (alternativeThoughtInput) alternativeThoughtInput.value = '';
            
            // –û—á–∏—â–∞–µ–º —ç–º–æ—Ü–∏–∏
            emotions = [];
            const emotionsContainer = document.getElementById('emotions-container');
            if (emotionsContainer) {
                emotionsContainer.innerHTML = `
                    <div class="emotion-item">
                        <div class="autocomplete-container">
                            <input type="text" class="emotion-input emotion-name" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–º–æ—Ü–∏–∏..." autocomplete="off">
                            <div class="autocomplete-list"></div>
                        </div>
                        <input type="number" class="trainer-input emotion-intensity" placeholder="0-100%" min="0" max="100" step="10">
                        <button class="remove-emotion-btn" onclick="removeEmotion(this)">√ó</button>
                    </div>
                `;
                
                // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—è
                const initialInput = document.querySelector('.emotion-input');
                if (initialInput) {
                    setupAutocomplete(initialInput);
                }
            }
            
            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∏
            const reevaluationContainer = document.getElementById('reevaluation-container');
            if (reevaluationContainer) {
                reevaluationContainer.innerHTML = '';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            updateNavigationButtons();
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–∞—á–∞–ª—É —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞
            const trainerSection = document.querySelector('.trainer-section');
            if (trainerSection) {
                trainerSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // ===== –§–£–ù–ö–¶–ò–ò –°–ö–ê–ß–ò–í–ê–ù–ò–Ø =====
        
        // –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        function downloadTemplate() {
            // üîí –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π
            const allowedPaths = [
                '../assets/files/shablondnevnica.docx',
                '/assets/files/shablondnevnica.docx',
                './assets/files/shablondnevnica.docx'
            ];
            
            const filePath = '../assets/files/shablondnevnica.docx';
            
            // üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—É—Ç–∏
            if (!allowedPaths.includes(filePath)) {
                console.error('–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É');
                alert('–û—à–∏–±–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É');
                return;
            }
            
            try {
                const link = document.createElement('a');
                link.href = filePath;
                link.download = '–®–∞–±–ª–æ–Ω_–¥–Ω–µ–≤–Ω–∏–∫–∞_–º—ã—Å–ª–µ–π.docx';
                link.rel = 'noopener noreferrer'; // üîí –ó–∞—â–∏—Ç–∞ –æ—Ç tabnabbing
                link.target = '_blank';
                
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–∞:', error);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤ Excel —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
        function downloadExcel() {
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
            const situation = safeTextInput(document.getElementById('situation').value);
            const thoughts = safeTextInput(document.getElementById('thoughts').value);
            const evidenceFor = safeTextInput(document.getElementById('evidence_for').value);
            const evidenceAgainst = safeTextInput(document.getElementById('evidence_against').value);
            const alternativeThought = safeTextInput(document.getElementById('alternative_thought').value);
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫–∏ —ç–º–æ—Ü–∏–π
            let emotionsBefore = '';
            let emotionsAfter = '';
            
            emotions.forEach(emotion => {
                emotionsBefore += `${emotion.name}: ${emotion.initialIntensity}%\n`;
                emotionsAfter += `${emotion.name}: ${emotion.newIntensity}%\n`;
            });

            // –°–æ–∑–¥–∞–µ–º workbook –∏ worksheet
            const wb = XLSX.utils.book_new();
            const ws = XLSX.utils.aoa_to_sheet([
                // –ó–∞–≥–æ–ª–æ–≤–∫–∏
                ["–°–∏—Ç—É–∞—Ü–∏—è", "–≠–º–æ—Ü–∏–∏ (–¥–æ)", "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º—ã—Å–ª—å", "–î–æ–≤–æ–¥—ã –∑–∞", "–î–æ–≤–æ–¥—ã –ø—Ä–æ—Ç–∏–≤", "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –º—ã—Å–ª—å", "–≠–º–æ—Ü–∏–∏ (–ø–æ—Å–ª–µ)"],
                // –î–∞–Ω–Ω—ã–µ
                [situation, emotionsBefore, thoughts, evidenceFor, evidenceAgainst, alternativeThought, emotionsAfter]
            ]);

            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫ (–ø—Ä–∏–º–µ—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å–∏–º–≤–æ–ª–∞—Ö)
            const colWidths = [
                { wch: 30 }, // –°–∏—Ç—É–∞—Ü–∏—è
                { wch: 20 }, // –≠–º–æ—Ü–∏–∏ (–¥–æ)
                { wch: 30 }, // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º—ã—Å–ª—å
                { wch: 30 }, // –î–æ–≤–æ–¥—ã –∑–∞
                { wch: 30 }, // –î–æ–≤–æ–¥—ã –ø—Ä–æ—Ç–∏–≤
                { wch: 30 }, // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –º—ã—Å–ª—å
                { wch: 20 }  // –≠–º–æ—Ü–∏–∏ (–ø–æ—Å–ª–µ)
            ];
            ws['!cols'] = colWidths;

            // –î–æ–±–∞–≤–ª—è–µ–º –≥—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –≤—Å–µ—Ö —è—á–µ–µ–∫
            const range = XLSX.utils.decode_range(ws['!ref']);
            for(let R = range.s.r; R <= range.e.r; ++R) {
                for(let C = range.s.c; C <= range.e.c; ++C) {
                    const cell_address = {c:C, r:R};
                    const cell_ref = XLSX.utils.encode_cell(cell_address);
                    if(!ws[cell_ref]) continue;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª—å —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏
                    if(!ws[cell_ref].s) ws[cell_ref].s = {};
                    ws[cell_ref].s.border = {
                        top: {style: "thin", color: {rgb: "000000"}},
                        left: {style: "thin", color: {rgb: "000000"}},
                        bottom: {style: "thin", color: {rgb: "000000"}},
                        right: {style: "thin", color: {rgb: "000000"}}
                    };
                    
                    // –î–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ - –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç
                    if(R === 0) {
                        ws[cell_ref].s.font = { bold: true };
                        ws[cell_ref].s.fill = { fgColor: {rgb: "E0E0E0"} }; // –°–µ—Ä—ã–π —Ñ–æ–Ω
                    }
                    
                    // –ü–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
                    ws[cell_ref].s.alignment = { 
                        wrapText: true,
                        vertical: "top"
                    };
                }
            }

            // –î–æ–±–∞–≤–ª—è–µ–º worksheet –≤ workbook
            XLSX.utils.book_append_sheet(wb, ws, "–î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π");

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏ —Å–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª
            XLSX.writeFile(wb, "–¥–Ω–µ–≤–Ω–∏–∫_–º—ã—Å–ª–µ–π.xlsx");
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤ PDF —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        function downloadPDF() {
            // üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –æ–∫–Ω–∞
            if (window.self !== window.top) {
                // –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –≤ iframe
                alert('–§—É–Ω–∫—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ');
                return;
            }
            
            const printWindow = window.open('', '_blank', 'noopener,noreferrer');
            if (!printWindow) {
                alert('–†–∞–∑—Ä–µ—à–∏—Ç–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF');
                return;
            }
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
            const situation = safeTextInput(document.getElementById('situation').value);
            const thoughts = safeTextInput(document.getElementById('thoughts').value);
            const evidenceFor = safeTextInput(document.getElementById('evidence_for').value);
            const evidenceAgainst = safeTextInput(document.getElementById('evidence_against').value);
            const alternativeThought = safeTextInput(document.getElementById('alternative_thought').value);
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —ç–º–æ—Ü–∏–π
            let emotionsBefore = '';
            let emotionsAfter = '';
            
            emotions.forEach(emotion => {
                emotionsBefore += `${emotion.name}: ${emotion.initialIntensity}%; `;
                emotionsAfter += `${emotion.name}: ${emotion.newIntensity}%; `;
            });
            
            // –°–æ–∑–¥–∞–µ–º HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è PDF
            const htmlContent = `
                <html>
                <head>
                    <meta charset="UTF-8">
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1 { color: #2c3e50; text-align: center; }
                        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
                        th { background-color: #2c3e50; color: white; }
                        tr:nth-child(even) { background-color: #f2f2f2; }
                    </style>
                </head>
                <body>
                    <h1>–î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π</h1>
                    <table>
                        <tr>
                            <th>–°–∏—Ç—É–∞—Ü–∏—è</th>
                            <th>–≠–º–æ—Ü–∏–∏</th>
                            <th>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º—ã—Å–ª—å</th>
                            <th>–î–æ–≤–æ–¥—ã –∑–∞</th>
                            <th>–î–æ–≤–æ–¥—ã –ø—Ä–æ—Ç–∏–≤</th>
                            <th>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –º—ã—Å–ª—å</th>
                            <th>–≠–º–æ—Ü–∏–∏ –ø–æ—Å–ª–µ</th>
                        </tr>
                        <tr>
                            <td>${situation}</td>
                            <td>${emotionsBefore}</td>
                            <td>${thoughts}</td>
                            <td>${evidenceFor}</td>
                            <td>${evidenceAgainst}</td>
                            <td>${alternativeThought}</td>
                            <td>${emotionsAfter}</td>
                        </tr>
                    </table>
                    <p style="margin-top: 20px; font-size: 12px; color: #666;">
                        –°–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–∏—Å–∞ "–ù–ï –ì–û–†–ò" - ${new Date().toLocaleDateString('ru-RU')}
                    </p>
                </body>
                </html>
            `;
            
            printWindow.document.write(htmlContent);
            printWindow.document.close();
            printWindow.print();
        }

        // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const mobileMenu = document.querySelector('.mobile-menu');
            
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.toggle('active');
                this.textContent = mobileMenu.classList.contains('active') ? '‚úï' : '‚ò∞';
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', function() {
                    mobileMenu.classList.remove('active');
                    mobileMenuBtn.textContent = '‚ò∞';
                });
            });
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—è
            const initialInput = document.querySelector('.emotion-input');
            if (initialInput) {
                setupAutocomplete(initialInput);
            }
            
            // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
            const fadeElements = document.querySelectorAll('.fade-in-element');
            
            const appearOnScroll = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                        appearOnScroll.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            fadeElements.forEach(element => {
                appearOnScroll.observe(element);
            });

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞
            updateNavigationButtons();
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é –∫–æ –≤—Å–µ–º –ø–æ–ª—è–º –≤–≤–æ–¥–∞
            const inputs = document.querySelectorAll('input, textarea');
            inputs.forEach(input => {
                if (input.type !== 'number') {
                    input.addEventListener('input', function() {
                        this.value = safeTextInput(this.value);
                    });
                }
            });
        });
    </script>
</body>
</html>